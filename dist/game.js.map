{"version":3,"sources":["game.js","audio.js","controls.js","fog.js","lights.js","planet.js","ship.js","skybox.js"],"names":[],"mappings":"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","file":"game.js","sourcesContent":["const preloader = Preloader();\r\n\r\nconst game = new WHS.World({\r\n  stats: false,\r\n  autoresize: true,\r\n\r\n  gravity: {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0\r\n  },\r\n\r\n  camera: {\r\n    far: 10000,\r\n    aspect: 45\r\n  },\r\n\r\n  shadowmap: {\r\n      type: THREE.PCFShadowMap\r\n  },\r\n\r\n  rWidth: 1,\r\n  rHeight: 1,\r\n\r\n  background: 0x1E2F40,\r\n\r\n  path_worker: '../src/scripts/vendor/physijs_worker.js',\r\n\r\n  path_ammo: 'ammo.js'\r\n});\r\n\r\ngame.start();\r\n\r\nlet camera = game.getCamera();\r\n\r\npreloader.check();\r\n","const track = new THREE.AudioListener();\r\nconst soundtrack = new THREE.Audio(track);\r\nconst shipSound = new THREE.Audio(track);\r\nconst camera = game.getCamera();\r\nconst loader = new THREE.AudioLoader();\r\n\r\ncamera.add(track);\r\n\r\ngame.add(soundtrack);\r\n\r\nloader.load('assets/audio/365-days-in-space.ogg',\r\n function(audioBuffer){\r\n  soundtrack.setBuffer( audioBuffer );\r\n\tsoundtrack.play();\r\n}, function(xhr){}, function(xhr){console.log( 'An error happened' );});\r\n\r\nloader.load('assets/audio/flyby.ogg',\r\nfunction(audioBuffer){\r\n  shipSound.setBuffer(audioBuffer);\r\n  shipSound.loaded = true;\r\n}, function(xhr){}, function(xhr){console.log( 'An error happened' );});\r\n","var person = game.Sphere( {\r\n    geometry: {\r\n        radius: 2\r\n    },\r\n\r\n    mass: 5,\r\n    onlyvis: false,\r\n\r\n    material: {\r\n        color: 0xffffff,\r\n        kind: \"lambert\",\r\n        rest: 0,\r\n        fri: 1\r\n    },\r\n\r\n    pos: {\r\n        x: 1000,\r\n        y: 1000,\r\n        z: 1000\r\n    }\r\n\r\n} );\r\n\r\n\r\ngame.FPSControls( person, { // *WHS* object, Pointer lock controls object, Jquery blocker div selector.\r\n    block: document.getElementById('blocker'),\r\n    speed: 1 // 5\r\n} );\r\n","const fog = game.FogExp2({\r\n  hex: 0x25424d,\r\n  near: 1,\r\n  far: 5\r\n});\r\n","let ambient = game.AmbientLight({\r\n  light: {\r\n    color: 0x83DCF9,\r\n    intensity: 0.2,\r\n\r\n    pos: {\r\n        x: 0,\r\n        y: 120,\r\n        z: 0,\r\n    },\r\n\r\n    target: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    }\r\n  }\r\n});\r\n\r\nlet spot = game.SpotLight( {\r\n    light: {\r\n        color: 0x83DCF9,\r\n        intensity: 0.8,\r\n        distance: 500,\r\n    },\r\n\r\n    shadowmap: {\r\n        width: 2048,\r\n        height: 2048,\r\n        top: 0,\r\n        fov: 90\r\n    },\r\n\r\n    pos: {\r\n        x: 160, // 100,\r\n        y: 120, // 30,\r\n        z: 160, // 100\r\n    },\r\n\r\n    target: {\r\n        x: 0,\r\n        y: 0,\r\n        z: 0\r\n    }\r\n} );\r\n","let sunTexture = WHS.API.texture('assets/textures/sun.jpg');\r\nlet jupiterTexture = WHS.API.texture('assets/textures/jupiter.jpg');\r\nconst sun = game.Model({\r\n  geometry:{\r\n    path: 'assets/models/ik89123.json'\r\n  },\r\n\r\n  material: {\r\n    shading: THREE.SmoothShading,\r\n    map: sunTexture,\r\n    bunmap: sunTexture,\r\n    kind: 'phong',\r\n    wireframe:false,\r\n    vertexColors:false,\r\n    doubleSided:true,\r\n    depthWrite:true,\r\n    emissive: 0xffffff,\r\n    emissiveIntensity: 0.3\r\n  },\r\n\r\n  mass: 0,\r\n  pos: {\r\n      x: 500,\r\n      y: 500,\r\n      z: 500\r\n  },\r\n\r\n  scale: {\r\n      x: 50,\r\n      y: 50,\r\n      z: 50\r\n  },\r\n});\r\n\r\n\r\nlet jupiter = game.Model({\r\n  geometry:{\r\n    path: 'assets/models/ik89123.json'\r\n  },\r\n\r\n  material: {\r\n    shading: THREE.SmoothShading,\r\n    map: jupiterTexture,\r\n    bunmap: jupiterTexture,\r\n    kind: 'phong',\r\n    wireframe:false,\r\n    vertexColors:false,\r\n    doubleSided:true,\r\n    depthWrite:true,\r\n    emissive: 0xde9fa3,\r\n    emissiveIntensity: 0.3\r\n  },\r\n\r\n  mass: 0,\r\n  pos: {\r\n      x: 500,\r\n      y: 650,\r\n      z: 120\r\n  },\r\n\r\n  scale: {\r\n      x: 20,\r\n      y: 20,\r\n      z: 20\r\n  }\r\n});\r\n\r\n/*setInterval(function(){\r\n    var rot = sun.rotation;\r\n    sun.rotation.set(rot.x+=0.2, 0,0);\r\n    requestAnimationFrame();\r\n}, 500);*/\r\n\r\nvar updateSun = new WHS.loop(function ( clock ) {\r\n    sun.rotation.x = (clock.getElapsedTime() * 1000) / 10000 * Math.PI*2;\r\n});\r\n\r\nupdateSun.start();\r\n","const spaceship = game.Model({\r\n  geometry:{\r\n    path: 'assets/models/spaceship.json',\r\n    physics: 'assets/models/spaceship_low.json'\r\n  },\r\n\r\n  material: {\r\n  },\r\n\r\n  mass: 0,\r\n  pos: {\r\n      x: -1000,\r\n      y: -1000,\r\n      z: -1000\r\n  },\r\n\r\n  rotation: {\r\n      x: 0,\r\n      z: Math.PI / 4,\r\n      y: 0,\r\n  },\r\n\r\n  scale: {\r\n      x: 1,\r\n      y: 1,\r\n      z: 1\r\n  },\r\n});\r\nvar curve = new THREE.CurvePath();\r\ncurve.add(\r\n    new THREE.CubicBezierCurve3(\r\n        new THREE.Vector3( -1000, -1000, -1000),\r\n        new THREE.Vector3( -865, -650, -525 ),\r\n        new THREE.Vector3( -350, -350, -225 ),\r\n       new THREE.Vector3( -100, -100, -100 )\r\n    )\r\n);\r\ncurve.add(\r\n    new THREE.CubicBezierCurve3(\r\n        new THREE.Vector3( -100, -100, -100 ),\r\n        new THREE.Vector3( 0, 0, 0 ),\r\n        new THREE.Vector3( 25, 125, 0),\r\n        new THREE.Vector3( 200, 100, 350 )\r\n    )\r\n);\r\ncurve.add(\r\n    new THREE.CubicBezierCurve3(\r\n        new THREE.Vector3( 200, 100, 350 ),\r\n        new THREE.Vector3( 350, 250, 350 ),\r\n        new THREE.Vector3( 650, 750,  750 ),\r\n        new THREE.Vector3( 1000, 1000, 1000 )\r\n    )\r\n);\r\n\r\ncurve.add(\r\n    new THREE.CubicBezierCurve3(\r\n        new THREE.Vector3( 1000, 1000, 1000 ),\r\n        new THREE.Vector3( 1250, 1250, 3500 ),\r\n        new THREE.Vector3( 6500, 7500,  7500 ),\r\n        new THREE.Vector3( 10000, 10000, 10000 )\r\n    )\r\n);\r\n\r\n\r\nspaceship.addTo(game,'wait').then(function(obj){\r\n  obj.follow(curve,245000,false);\r\n  spaceship.add(shipSound);\r\n});\r\n","game.skybox = game.Skybox( {\r\n    path: \"img/space\",\r\n    imgSuffix: \".jpg\",\r\n    skyType: \"sphere\",\r\n    radius: 10000\r\n} );\r\n"],"sourceRoot":"/source/"}